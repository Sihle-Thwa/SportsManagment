@import "tailwindcss";
@import "../../styles/colours.css";
/* ==========================================================================
   BUTTON TOKENS
   - This file maps those to button-specific tokens for clarity and reuse.
   ========================================================================== */

:root {
	/* --- Shared layout tokens --- */
	--button-radius: 6px; /* 6px */
	--button-border-width: 1px;
	--button-gap: 8px;
	--button-font-weight: 600;
	--button-line-height: 1; /* keeps height tight with padding */
	--button-transition: 150ms ease;

	/* Focus ring */
	--button-ring-color: color-mix(
		in oklab,
		var(--colour-primary) 45%,
		white 55%
	);
	--button-ring-offset: 2px;
	--button-ring-size: 3px;

	/* ---------- PRIMARY ---------- */
	--button-primary-background: var(--colour-primary);
	--button-primary-background-hover: var(--colour-secondary);
	--button-primary-background-pressed: var(--colour-primary-800);
	--button-primary-background-disabled: var(--colour-primary-100);
	--button-primary-text: var(--colour-neutral-100);
	--button-primary-text-hover: var(--colour-neutral-100);
	--button-primary-text-disabled: var(--colour-neutral-100);
	--button-primary-border: var(--colour-primary);
	--button-primary-border-hover: var(--colour-secondary);
	--button-primary-border-disabled: var(--colour-primary-100);

	/* ---------- SECONDARY (Outline/Ghost-ish) ---------- */
	--button-secondary-background: transparent;
	--button-secondary-background-hover: var(--colour-secondary-100);
	--button-secondary-background-pressed: var(--colour-secondary-300);
	--button-secondary-background-disabled: transparent;
	--button-secondary-text: var(--colour-secondary-900);
	--button-secondary-text-hover: var(--colour-secondary-700);
	--button-secondary-text-disabled: var(--colour-secondary-300);
	--button-secondary-border: var(--colour-secondary-500);
	--button-secondary-border-hover: var(--colour-secondary-700);
	--button-secondary-border-disabled: var(--colour-secondary-300);

	/* ---------- TERTIARY ---------- */
	--button-tertiary-background: var(--colour-tertiary-500);
	--button-tertiary-background-hover: var(--colour-tertiary-700);
	--button-tertiary-background-pressed: var(--colour-tertiary-900);
	--button-tertiary-background-disabled: var(--colour-tertiary-100);
	--button-tertiary-text: var(--colour-neutral-100);
	--button-tertiary-text-disabled: var(--colour-tertiary-900);
	--button-tertiary-border: var(--colour-tertiary-500);

	/* ---------- SUCCESS ---------- */
	--button-success-background: var(--colour-success-500);
	--button-success-background-hover: var(--colour-success-700);
	--button-success-background-pressed: var(--colour-success-900);
	--button-success-background-disabled: var(--colour-success-100);
	--button-success-text: var(--colour-neutral-100);
	--button-success-text-disabled: var(--colour-success-700);
	--button-success-border: var(--colour-success-500);
	--button-success-border-hover: var(--colour-success-700);
	--button-success-border-disabled: var(--colour-success-100);

	/* ---------- WARNING ---------- */
	--button-warning-background: var(--colour-warning-500);
	--button-warning-background-hover: var(--colour-warning-700);
	--button-warning-background-pressed: var(--colour-warning-900);
	--button-warning-background-disabled: var(--colour-warning-100);
	--button-warning-text: var(--colour-neutral-100);
	--button-warning-text-disabled: var(--colour-warning-700);
	--button-warning-border: var(--colour-warning-500);
	--button-warning-border-hover: var(--colour-warning-700);
	--button-warning-border-disabled: var(--colour-warning-100);

	/* ---------- ERROR ---------- */
	--button-error-background: var(--colour-error-500);
	--button-error-background-hover: var(--colour-error-700);
	--button-error-background-pressed: var(--colour-error-900);
	--button-error-background-disabled: var(--colour-error-100);
	--button-error-text: var(--colour-neutral-100);
	--button-error-text-disabled: var(--colour-error-700);
	--button-error-border: var(--colour-error-500);
	--button-error-border-hover: var(--colour-error-700);
	--button-error-border-disabled: var(--colour-error-100);

	/* ---------- GHOST ---------- */
	--button-ghost-background: transparent;
	--button-ghost-background-hover: var(--colour-neutral-200);
	--button-ghost-background-pressed: var(--colour-neutral-300);
	--button-ghost-background-disabled: transparent;
	--button-ghost-text: var(--colour-neutral-600);
	--button-ghost-text-hover: var(--colour-neutral-900);
	--button-ghost-text-disabled: var(--colour-neutral-300);
	--button-ghost-border: transparent;
	--button-ghost-border-hover: transparent;
	--button-ghost-border-disabled: transparent;
}

/* ==========================================================================
   COMPONENT
   - Uses a small custom-properties API per instance:
     --button-bg, --button-fg, --button-bd, plus hover/active/disabled counterparts.
   ========================================================================== */

@layer components {
	.button {
		/* API defaults */
		--button-bg: transparent;
		--button-fg: currentColor;
		--button-bd: currentColor;

		--button-bg-hover: var(--button-bg);
		--button-fg-hover: var(--button-fg);
		--button-bd-hover: var(--button-bd);

		--button-bg-active: var(--button-bg-hover);
		--button-fg-active: var(--button-fg-hover);
		--button-bd-active: var(--button-bd-hover);

		--button-bg-disabled: var(--button-bg);
		--button-fg-disabled: var(--button-fg);
		--button-bd-disabled: var(--button-bd);

		display: inline-flex;
		align-items: center;
		justify-content: center;
		gap: var(--button-gap);

		border: var(--button-border-width) solid var(--button-bd);
		border-radius: var(--button-radius);
		background-color: var(--button-bg);
		color: var(--button-fg);
		text-decoration: none;
		font-weight: var(--button-font-weight);
		line-height: var(--button-line-height);
		white-space: nowrap;
		user-select: none;
		vertical-align: middle;

		transition: background-color var(--button-transition),
			color var(--button-transition), border-color var(--button-transition),
			box-shadow var(--button-transition);

		/* Reasonable min-tap size without forcing explicit height */
		min-height: 36px; /* 36px */
		padding-inline: 12px; /* default if no size class is added */
		padding-block: 9px; /* 9px */
		cursor: pointer;
	}

	.button:where(:disabled, [aria-disabled="true"]) {
		cursor: not-allowed;
		pointer-events: none;
		background-color: var(--button-bg-disabled);
		color: var(--button-fg-disabled);
		border-color: var(--button-bd-disabled);
		opacity: 0.8;
	}

	.button:where(:hover):not(:disabled, [aria-disabled="true"]) {
		background-color: var(--button-bg-hover);
		color: var(--button-fg-hover);
		border-color: var(--button-bd-hover);
	}

	.button:where(:active):not(:disabled, [aria-disabled="true"]) {
		background-color: var(--button-bg-active);
		color: var(--button-fg-active);
		border-color: var(--button-bd-active);
	}

	.button:focus-visible {
		outline: none;
		box-shadow: 0 0 0 var(--button-ring-offset) white,
			0 0 0 calc(var(--button-ring-offset) + var(--button-ring-size))
				var(--button-ring-color);
	}

	@media (prefers-reduced-motion: reduce) {
		.button {
			transition: none;
		}
	}

	/* ---------------- SIZES ---------------- */
	.button-sm {
		padding-inline: 14px; /* 14px */
		padding-block: 8px; /* 8px */
		height: 28px; /* 32px */
		font-size: 14px; /* 14px */
	}

	.button-md {
		/* default already set on .button; explicit for clarity */
		padding-inline: 16px; /* 16px */
		padding-block: 10px; /* 10px */
		height: 32px; /* 36px */
		font-size: 14px; /* 15px */
	}

	.button-lg {
		padding-inline: 18px; /* 18px */
		padding-block: 10px; /* 10px */
		height: 40px; /* 40px */
		font-size: 16px; /* 16px */
	}

	/* ---------------- ICON UTILS ---------------- */
	.button-icon {
		inline-size: 24px; /* 24px */
		block-size: 24px; /* 24px */
		display: inline-flex;
		align-items: center;
		justify-content: center;
		font-size: 1.25em; /* scale with font-size of button */
	}
	.button-icon-left {
		margin-inline-end: 0.5rem;
	}
	.button-icon-right {
		margin-inline-start: 0.5rem;
	}

	.button-icon-only {
		padding: 12px;
		height: 40px;
		inline-size: 40px;
		justify-content: center;
		gap: 0;
	}

	/* ==========================================================================
     VARIANTS
     Each variant sets the per-instance API variables for base/hover/active/disabled.
     ========================================================================== */

	/* PRIMARY */
	.button-primary {
		--button-bg: var(--button-primary-background);
		--button-fg: var(--button-primary-text);
		--button-bd: var(--button-primary-border);

		--button-bg-hover: var(--button-primary-background-hover);
		--button-fg-hover: var(--button-primary-text-hover);
		--button-bd-hover: var(--button-primary-border-hover);

		--button-bg-active: var(--button-primary-background-pressed);
		--button-fg-active: var(--button-primary-text-hover);
		--button-bd-active: var(--button-primary-border-hover);

		--button-bg-disabled: var(--button-primary-background-disabled);
		--button-fg-disabled: var(--button-primary-text-disabled);
		--button-bd-disabled: var(--button-primary-border-disabled);
	}

	/* SECONDARY (Outline) */
	.button-secondary {
		--button-bg: var(--button-secondary-background);
		--button-fg: var(--button-secondary-text);
		--button-bd: var(--button-secondary-border);

		--button-bg-hover: var(--button-secondary-background-hover);
		--button-fg-hover: var(--button-secondary-text-hover);
		--button-bd-hover: var(--button-secondary-border-hover);

		--button-bg-active: var(--button-secondary-background-pressed);
		--button-fg-active: var(--button-secondary-text-hover);
		--button-bd-active: var(--button-secondary-border-hover);

		--button-bg-disabled: var(--button-secondary-background-disabled);
		--button-fg-disabled: var(--button-secondary-text-disabled);
		--button-bd-disabled: var(--button-secondary-border-disabled);
	}

	/* TERTIARY (Filled Accent) */
	.button-tertiary {
		--button-bg: var(--button-tertiary-background);
		--button-fg: var(--button-tertiary-text);
		--button-bd: var(--button-tertiary-border);

		--button-bg-hover: var(--button-tertiary-background-hover);
		--button-fg-hover: var(--button-tertiary-text);
		--button-bd-hover: var(--button-tertiary-background-hover);

		--button-bg-active: var(--button-tertiary-background-pressed);
		--button-fg-active: var(--button-tertiary-text);
		--button-bd-active: var(--button-tertiary-background-pressed);

		--button-bg-disabled: var(--button-tertiary-background-disabled);
		--button-fg-disabled: var(--button-tertiary-text-disabled);
		--button-bd-disabled: var(--button-tertiary-background-disabled);
	}

	/* SUCCESS */
	.button-success {
		--button-bg: var(--button-success-background);
		--button-fg: var(--button-success-text);
		--button-bd: var(--button-success-border);

		--button-bg-hover: var(--button-success-background-hover);
		--button-fg-hover: var(--button-success-text);
		--button-bd-hover: var(--button-success-border-hover);

		--button-bg-active: var(--button-success-background-pressed);
		--button-fg-active: var(--button-success-text);
		--button-bd-active: var(--button-success-border-hover);

		--button-bg-disabled: var(--button-success-background-disabled);
		--button-fg-disabled: var(--button-success-text-disabled);
		--button-bd-disabled: var(--button-success-border-disabled);
	}

	/* WARNING */
	.button-warning {
		--button-bg: var(--button-warning-background);
		--button-fg: var(--button-warning-text);
		--button-bd: var(--button-warning-border);

		--button-bg-hover: var(--button-warning-background-hover);
		--button-fg-hover: var(--button-warning-text);
		--button-bd-hover: var(--button-warning-border-hover);

		--button-bg-active: var(--button-warning-background-pressed);
		--button-fg-active: var(--button-warning-text);
		--button-bd-active: var(--button-warning-border-hover);

		--button-bg-disabled: var(--button-warning-background-disabled);
		--button-fg-disabled: var(--button-warning-text-disabled);
		--button-bd-disabled: var(--button-warning-border-disabled);
	}

	/* ERROR (Destructive) */
	.button-error {
		--button-bg: var(--button-error-background);
		--button-fg: var(--button-error-text);
		--button-bd: var(--button-error-border);

		--button-bg-hover: var(--button-error-background-hover);
		--button-fg-hover: var(--button-error-text);
		--button-bd-hover: var(--button-error-border-hover);

		--button-bg-active: var(--button-error-background-pressed);
		--button-fg-active: var(--button-error-text);
		--button-bd-active: var(--button-error-border-hover);

		--button-bg-disabled: var(--button-error-background-disabled);
		--button-fg-disabled: var(--button-error-text-disabled);
		--button-bd-disabled: var(--button-error-border-disabled);
	}

	/* GHOST (Text-ish) */
	.button-ghost {
		--button-bg: var(--button-ghost-background);
		--button-fg: var(--button-ghost-text);
		--button-bd: var(--button-ghost-border);

		--button-bg-hover: var(--button-ghost-background-hover);
		--button-fg-hover: var(--button-ghost-text-hover);
		--button-bd-hover: var(--button-ghost-border-hover);

		--button-bg-active: var(--button-ghost-background-pressed);
		--button-fg-active: var(--button-ghost-text-hover);
		--button-bd-active: var(--button-ghost-border-hover);

		--button-bg-disabled: var(--button-ghost-background-disabled);
		--button-fg-disabled: var(--button-ghost-text-disabled);
		--button-bd-disabled: var(--button-ghost-border-disabled);
	}
}
